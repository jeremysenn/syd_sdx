%div{:id => "pack_shipment_#{pack_shipment.id}_upload_form", :class => "modal fade", :tabindex => "-1", :style => "display:none;"}
  = form_for ShipmentFile.new, html: {class: 'shipment_file_upload_form'} do |f|
    .modal-dialog.modal-sm
      .modal-content
        .modal-body
          = f.hidden_field :user_id, value: current_user.id
          = f.hidden_field :yard_id, value: current_yard_id
          = f.hidden_field :ticket_number, value: pack_shipment.shipment_number
          = f.hidden_field :customer_name, value: "#{pack_shipment.related_work_order.customer.first_name} #{pack_shipment.related_work_order.customer.last_name}" unless pack_shipment.related_work_order.blank? or pack_shipment.related_work_order.customer.blank?
          .form-group{:id => "event_code"}
            .btn-group-vertical{"data-toggle" => "buttons", style: 'width: 100%'}
              - current_user.company.shipment_event_codes.each do |event_code|
                %label.btn.btn-lg.btn-default.btn-block.event_code_radio
                  = f.radio_button :event_code_id, event_code.id, required: true
                  = event_code.name
          %div{:id => 'uploads', :style => 'display:block;'}
            %p{id: "upload_button", style: "display:none;"}
              = f.file_field :file, name: "shipment_file[file]", :type => 'file', :class => 'btn-primary btn-block btn-lg', title: "<i class='fa fa-upload'/> Picture".html_safe

          .picture_loading_spinner{:style => "display:none;", :id => "shipment_file_spinner"}
            = image_tag("ajax-loader.gif", :id => "loading_spinner", :alt => "Loading")
            Uploading ...
          #pictures

          .clear
          %script{:id => "template-upload", :type => "text/x-tmpl"}
            .upload
              {%=o.name%}
              .progress.progress-striped
                .progress-bar{:style => "width: 0%"}
          %script{:id => "template-download", :type => "text/x-tmpl"}
            .download
              {%=o.name%}

        .modal-footer
          %button.btn.btn-default.btn-lg{"data-dismiss" => "modal", :type => "button"} Done
