= render partial: "shared/navbars/new_and_edit_service_request_navbar", locals: {title: "Service Request"}
- @title="New Service Request"

.container
  %br
  %br
  .well.col-sm-6.col-md-4.col-md-offset-4
    = form_tag service_requests_path, :class => "form-horizontal" do
      =# hidden_field_tag "commodity[yard_name]", current_yard_name
      .row.form-group
        %div{:class => "col-sm-12 col-md-12"}
          = label_tag "Customer", nil, :class => 'control-label'
          = select_tag "service_request[customer_id]", options_for_select(@customers.collect {|c| [ "#{(c['FirstName'].blank? or c['LastName'].blank?) ? (c['Company'].blank? ? c['CustomerNumber'] : c['Company']) : (c['FirstName'] + ' ' + c['LastName'])}", c['Id'] ] }), prompt: 'Select customer', class: "form-control input-lg", required: true
      -#
        .row.form-group
          %div{:class => "col-sm-12 col-md-12"}
            = label_tag "Print Description", nil, :class => 'control-label'
            = text_field_tag "commodity[description]", nil, :placeholder => "Description", class: "form-control input-lg", required: true
        .row.form-group
          %div{:class => "col-sm-12 col-md-12"}
            = label_tag "Unit of Measure", nil, :class => 'control-label'
            = select_tag "commodity[unit_of_measure]", options_for_select(units_of_measure), prompt: 'Select unit of measure', class: "form-control input-lg", required: true
        .row.form-group
          %div{:class => "col-sm-12 col-md-12"}
            = label_tag "Type", nil, :class => 'control-label'
            = select_tag "commodity[type]", options_for_select(@commodity_types.collect {|p| [ p['ReportDescription'], p['CodeValue'] ] }), prompt: 'Select type', class: "form-control input-lg", required: true
        .row.form-group
          %div{:class => "col-sm-12 col-md-12"}
            = label_tag "Scale Price", nil, :class => 'control-label'
            %div.input-group
              %span.input-group-addon
                $
              = text_field_tag "commodity[scale_price]", nil, :placeholder => "Scale Price", class: "form-control input-lg", required: true
      
      .row.form-group
        %div{:class => "col-sm-12 col-md-12"}
          = button_tag(:type => 'submit', :class => 'btn btn-primary btn-lg btn-block', data: {disable_with: "<i class='fa fa-spinner fa-spin'></i> Create"}) do
            Create

=# render partial: "shared/new_service_request_footer_navbar", locals: {title: "Service Request"}