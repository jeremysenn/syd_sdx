= render partial: "shared/navbars/edit_user_setting_navbar", locals: {title: "Settings"}

.jumbotron{style: 'background-color: white;'}
  .container
    .col-sm-6.col-md-4.col-md-offset-4
      = form_for @user_setting, :class => "form-inline" do |f|
        - @user_setting.errors.each do |attr, msg|
          .alert.alert-danger
            <button type="button" class="close" data-dismiss="alert">Ã—</button>
            = "#{attr} #{msg}" if @user_setting.errors[attr].first == msg
        %div.panel.panel-default
          %div.panel-heading
            Show Thumbnails
          %ul.list-group
            %li.list-group-item
              .row.form-group
                %div{:class => "col-sm-10"}
                  = f.label "Customers", :class => "control-label"
                  .pull-right= f.text_field :show_customer_thumbnails, :value => "#{@user_setting.show_customer_thumbnails? ? '1' : '0'}", "data-icon-checked" => "<i class='fa fa-check'></i>", "data-toggle" => "checkbox-x", "data-three-state" => "false", "data-size" => "xl"

            %li.list-group-item
              .row.form-group
                %div{:class => "col-sm-10"}
                  = f.label "Tickets", :class => "control-label"
                  .pull-right= f.text_field :show_ticket_thumbnails, :value => "#{@user_setting.show_ticket_thumbnails? ? '1' : '0'}", "data-icon-checked" => "<i class='fa fa-check'></i>", "data-toggle" => "checkbox-x", "data-three-state" => "false", "data-size" => "xl"

            %li.list-group-item
              .row.form-group
                %div{:class => "col-sm-10"}
                  = f.label "Pictures", :class => "control-label"
                  .pull-right= f.text_field :show_thumbnails, :value => "#{@user_setting.show_thumbnails? ? '1' : '0'}", "data-icon-checked" => "<i class='fa fa-check'></i>", "data-toggle" => "checkbox-x", "data-three-state" => "false", "data-size" => "xl"
            = f.hidden_field :table_name, value: "images"

        %div.panel.panel-default
          %div.panel-heading
            Currencies
          %ul.list-group
            %li.list-group-item
              .row.form-group
                %div{:class => "col-sm-10"}
                  = f.select :currency_id, options_for_select(@currencies.map{ |currency| [currency['Description'], currency['Id']] }, @user_setting.currency_id), {:include_blank => 'None'}, {:class => "form-control input-lg"}


        %div.panel.panel-default
          %div.panel-heading
            Device Group
          %ul.list-group
            %li.list-group-item
              .row.form-group
                %div{:class => "col-sm-10"}
                  = f.select :device_group_id, options_from_collection_for_select(Yard.device_groups(current_yard_id), :id, :DeviceGroupName, @user_setting.device_group_id), {:include_blank => 'None'}, {:class => "form-control input-lg"}

        = button_tag(:type => 'submit', :class => 'btn btn-primary btn-lg btn-block', id: 'save_button', name: 'save', data: {disable_with: "<i class='fa fa-spinner fa-spin'></i> Update"}, autocomplete: "off") do
          Update